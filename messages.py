MESSAGES = {
    'ar': {
        'welcome': (
            "ğŸ‘‹ *Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¨ÙˆØª Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©!*\n\n"
            "Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø¥ÙŠÙ…ÙŠÙ„Ùƒ.\n"
            "ğŸ“§ Ø£Ø±Ø³Ù„ Ø¥ÙŠÙ…ÙŠÙ„Ùƒ Ø§Ù„Ø¢Ù†:\n"
            "_(Gmail, Yahoo, Hotmail ÙÙ‚Ø·)_"
        ),
        'choose_lang': "ğŸŒ Ø§Ø®ØªØ± Ù„ØºØªÙƒ / Choose your language:",
        'email_invalid': "âŒ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ….\nÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ Gmail Ø£Ùˆ Yahoo Ø£Ùˆ Hotmail ÙÙ‚Ø·.",
        'email_taken': "âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹. Ø¬Ø±Ø¨ Ø¥ÙŠÙ…ÙŠÙ„Ø§Ù‹ Ø¢Ø®Ø±.",
        'registered_ok': (
            "âœ… *ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!*\n\n"
            "Ø£Ø±Ø³Ù„ Ù„ÙŠ Ø£ÙŠ ØµÙˆØ±Ø© ÙˆØ³Ø£Ø²ÙŠÙ„ Ø®Ù„ÙÙŠØªÙ‡Ø§ ÙÙˆØ±Ø§Ù‹ ğŸ¨\n"
            "ğŸ“¸ *Ø­Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ: 3 ØµÙˆØ±/ÙŠÙˆÙ…*\n"
            "ğŸ’ Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ù…ÙŠØ²: /subscribe"
        ),
        'send_photo': "ğŸ“¸ Ø£Ø±Ø³Ù„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø¥Ø²Ø§Ù„Ø© Ø®Ù„ÙÙŠØªÙ‡Ø§:",
        'processing': "â³ Ø¬Ø§Ø±ÙŠ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©...",
        'done': "âœ… ØªÙ…! Ø¥Ù„ÙŠÙƒ ØµÙˆØ±ØªÙƒ Ø¨Ø¯ÙˆÙ† Ø®Ù„ÙÙŠØ© ğŸ‰",
        'limit_reached': (
            "â›” *ÙˆØµÙ„Øª Ù„Ù„Ø­Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ (3 ØµÙˆØ±)*\n\n"
            "Ø¹Ø¯ ØºØ¯Ø§Ù‹ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ 3 ØµÙˆØ± Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¬Ø§Ù†Ø§Ù‹ ğŸ”„\n"
            "Ø£Ùˆ Ø§Ø´ØªØ±Ùƒ Ø¨Ù€ *3$/Ø´Ù‡Ø±* Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ØºÙŠØ± Ø§Ù„Ù…Ø­Ø¯ÙˆØ¯!\n"
            "ğŸ‘‰ /subscribe"
        ),
        'subscribe_info': (
            "ğŸ’ *Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ù…ÙŠØ² - 3$/Ø´Ù‡Ø±*\n\n"
            "âœ… ØµÙˆØ± ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹\n"
            "âœ… Ø£ÙˆÙ„ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©\n"
            "âœ… Ø¯Ø¹Ù… ÙÙˆØ±ÙŠ\n\n"
            "Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù…:\n"
            "ğŸ‘¤ @SUPPORT_USERNAME\n\n"
            "Ø£Ø±Ø³Ù„ Ù„Ù‡: `Ø§Ø±ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ` ÙˆØ³ÙŠØ±Ø´Ø¯Ùƒ Ù„Ù„Ø¯ÙØ¹ âœ…"
        ),
        'error': "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",
        'usage_status': "ğŸ“Š *Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ø§Ù„ÙŠÙˆÙ…:* {used}/3 ØµÙˆØ±",
        'already_registered': "âœ… Ø£Ù†Øª Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„! Ø£Ø±Ø³Ù„ ØµÙˆØ±Ø© Ù„Ø¥Ø²Ø§Ù„Ø© Ø®Ù„ÙÙŠØªÙ‡Ø§.",
        'language_changed': "âœ… ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©.",
    },
    'en': {
        'welcome': (
            "ğŸ‘‹ *Welcome to Background Remover Bot!*\n\n"
            "First, we need your email to get started.\n"
            "ğŸ“§ Please send your email:\n"
            "_(Gmail, Yahoo, Hotmail only)_"
        ),
        'choose_lang': "ğŸŒ Ø§Ø®ØªØ± Ù„ØºØªÙƒ / Choose your language:",
        'email_invalid': "âŒ Invalid or unsupported email.\nPlease use Gmail, Yahoo, or Hotmail only.",
        'email_taken': "âš ï¸ This email is already registered. Try another one.",
        'registered_ok': (
            "âœ… *Registered successfully!*\n\n"
            "Send me any photo and I'll remove its background instantly ğŸ¨\n"
            "ğŸ“¸ *Free daily limit: 3 photos/day*\n"
            "ğŸ’ Premium subscription: /subscribe"
        ),
        'send_photo': "ğŸ“¸ Send the photo you want to remove the background from:",
        'processing': "â³ Removing background...",
        'done': "âœ… Done! Here's your photo without background ğŸ‰",
        'limit_reached': (
            "â›” *You've reached your free daily limit (3 photos)*\n\n"
            "Come back tomorrow for 3 new free photos ğŸ”„\n"
            "Or subscribe for *$3/month* for unlimited use!\n"
            "ğŸ‘‰ /subscribe"
        ),
        'subscribe_info': (
            "ğŸ’ *Premium Subscription - $3/month*\n\n"
            "âœ… Unlimited photos per day\n"
            "âœ… Priority processing\n"
            "âœ… Instant support\n\n"
            "To subscribe, contact support:\n"
            "ğŸ‘¤ @SUPPORT_USERNAME\n\n"
            "Send: `I want to subscribe` and they'll guide you âœ…"
        ),
        'error': "âŒ An error occurred during processing. Please try again.",
        'usage_status': "ğŸ“Š *Today's usage:* {used}/3 photos",
        'already_registered': "âœ… You're already registered! Send a photo to remove its background.",
        'language_changed': "âœ… Language changed to English.",
    }
}

def msg(telegram_id, key, **kwargs):
    from database import get_user_language
    lang = get_user_language(telegram_id)
    text = MESSAGES[lang].get(key, '')
    return text.format(**kwargs) if kwargs else text
